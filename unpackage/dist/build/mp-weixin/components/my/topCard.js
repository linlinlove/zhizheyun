(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/my/topCard"],{"4dbc":function(e,n,o){"use strict";o.r(n);var t=o("9952"),c=o("c344");for(var u in c)["default"].indexOf(u)<0&&function(e){o.d(n,e,(function(){return c[e]}))}(u);o("7c45");var a=o("f0c5"),r=Object(a["a"])(c["default"],t["b"],t["c"],!1,null,"58bbcb6a",null,!1,t["a"],void 0);n["default"]=r.exports},"7c45":function(e,n,o){"use strict";var t=o("8ddd"),c=o.n(t);c.a},"8ddd":function(e,n,o){},9952:function(e,n,o){"use strict";o.d(n,"b",(function(){return c})),o.d(n,"c",(function(){return u})),o.d(n,"a",(function(){return t}));var t={uIcon:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(o.bind(null,"c7c3"))},uToast:function(){return o.e("uni_modules/uview-ui/components/u-toast/u-toast").then(o.bind(null,"b17e"))},uPopup:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(o.bind(null,"e9c2"))},uText:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-text/u-text")]).then(o.bind(null,"63dd"))},uButton:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-button/u-button")]).then(o.bind(null,"9641"))}},c=function(){var e=this.$createElement;this._self._c},u=[]},a531:function(e,n,o){"use strict";(function(e,t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=o("692a"),u=(o("3022"),o("9754")["default"]),a=(o("aafc"),{props:{userInfo:{type:Object,default:null}},data:function(){return{data:null,userCode:null,show:!1,selectedOccupation:"",occupationOptions:["应届生","实习生","职场人群","40.50灵活就业人群","残疾人","退伍军人","失业人员","创业者"]}},methods:{chooseOccupation:function(){this.show=!0},selectOccupation:function(n){switch(this.selectedOccupation=n,n){case"应届生":e.navigateTo({url:"pages/index/index"});break;case"实习生":e.navigateTo({url:"pages/index/index"});break;case"职场人群":e.navigateTo({url:"resume_pages/cecord/cecord"});break;case"40.50灵活就业人群":e.navigateTo({url:"resume_pages/cecord/cecord2"});break;case"残疾人":e.navigateTo({url:"resume_pages/cecord/cecord3"});break;case"退伍军人":e.navigateTo({url:"resume_pages/cecord/cecord4"});break;case"失业人员":e.navigateTo({url:"resume_pages/cecord/cecord5"});break;case"创业者":e.navigateTo({url:"resume_pages/cecord/cecord6"});break;default:break}},refuse:function(){e.removeStorageSync("token"),this.show=!1},open:function(){},close:function(){this.show=!1},jumpPage:function(){e.navigateTo({url:"/pages/my/userInfo"})},getPhoneNumber:function(n){var o=this;(0,c.getWxPhone)({code:n.detail.code}).then((function(n){e.setStorageSync("token",n.data.token),o.show=!0}))},getUserinfo:function(){var n=this;this.show=!1,t.getUserProfile({lang:"zh_CN",withCredentials:!0,desc:"用于完善资料",success:function(o){var u=o.userInfo;u.avatarUrl,u.nickName;t.login({provider:"weixin",success:function(t){console.log("登录信息："),console.log(o.userInfo),(0,c.getWxUserinfo)({code:t.code,avatar:o.userInfo.avatarUrl,nickname:o.userInfo.nickName,gender:o.userInfo.gender}).then((function(o){e.setStorageSync("userInfo",o.data),n.data=e.getStorageSync("userInfo"),0==o.data.im_status?n.register(o.data.mobile):n.selectedOccupation=o.data.occupation}))}})},fail:function(n){e.removeStorageSync("token"),e.$emit("hasLogin",!1),console.log(n,"用户信息失败"),e.showToast({icon:"none",title:"登录失败，请重试！"})}})},register:function(n){var o=this,t=e.getStorageSync("userInfo"),a={apiUrl:u.config.apiURL,username:n,password:"123456",nickname:t.nickname,appKey:u.config.appkey,success:function(t){(0,c.upRegister)().then((function(t){1==t.code?(e.showToast({title:"更新身份成功",duration:1500}),console.log("更新身份成功"),o.loginFn(n)):console.log("更新信息失败")}))},error:function(n){e.removeStorageSync("token"),console.log("环信注册失败",n)}};u.conn.registerUser(a)},loginFn:function(n){console.log(n,"环信username"),e.WebIM.conn.open({user:n,pwd:"123456",appkey:e.WebIM.config.appKey}),e.setStorage({key:"myUsername",data:n}),e.$emit("hasLogin",!0)}}});n.default=a}).call(this,o("543d")["default"],o("bc2e")["default"])},c344:function(e,n,o){"use strict";o.r(n);var t=o("a531"),c=o.n(t);for(var u in t)["default"].indexOf(u)<0&&function(e){o.d(n,e,(function(){return t[e]}))}(u);n["default"]=c.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/my/topCard-create-component',
    {
        'components/my/topCard-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("4dbc"))
        })
    },
    [['components/my/topCard-create-component']]
]);
